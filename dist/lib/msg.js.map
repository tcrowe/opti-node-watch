{"version":3,"sources":["../../src/lib/msg.js"],"names":["isObject","require","isArray","appKey","msg","arguments","map","item","undefined","JSON","stringify","toString","join","module","exports"],"mappings":";;AAUA,IAAMA,QAAQ,GAAGC,OAAO,CAAC,iBAAD,CAAxB;;AACA,IAAMC,OAAO,GAAGD,OAAO,CAAC,gBAAD,CAAvB;;AACA,IAAME,MAAM,GAAG,iBAAf;;AAEA,SAASC,GAAT,GAAe;AACb,SAAO,CAACD,MAAD,oCAAYE,SAAZ,IAAuB,IAAvB,GACJC,GADI,CACA,UAAAC,IAAI,EAAI;AACX,QAAIA,IAAI,KAAKC,SAAb,EAAwB;AACtB,aAAO,WAAP;AACD;;AAED,QAAID,IAAI,KAAK,IAAb,EAAmB;AACjB,aAAO,MAAP;AACD;;AAED,QAAIP,QAAQ,CAACO,IAAD,CAAR,KAAmB,IAAnB,IAA2BL,OAAO,CAACK,IAAD,CAAP,KAAkB,IAAjD,EAAuD;AACrD,aAAOE,IAAI,CAACC,SAAL,CAAeH,IAAf,CAAP;AACD;;AAED,WAAOA,IAAI,CAACI,QAAL,EAAP;AACD,GAfI,EAgBJC,IAhBI,CAgBC,GAhBD,CAAP;AAiBD;;AAEDC,MAAM,CAACC,OAAP,GAAiBV,GAAjB","sourcesContent":["/*\n\n# opti-node-watch msg\n\n+ format whatever comes out of stdout or stderr\n\nSee ../../COPYING for GPL 3.0 license\n\n*/\n\nconst isObject = require(\"lodash/isObject\");\nconst isArray = require(\"lodash/isArray\");\nconst appKey = \"opti-node-watch\";\n\nfunction msg() {\n  return [appKey, ...arguments, \"\\n\"]\n    .map(item => {\n      if (item === undefined) {\n        return \"undefined\";\n      }\n\n      if (item === null) {\n        return \"null\";\n      }\n\n      if (isObject(item) === true || isArray(item) === true) {\n        return JSON.stringify(item);\n      }\n\n      return item.toString();\n    })\n    .join(\" \");\n}\n\nmodule.exports = msg;\n"],"file":"msg.js"}